<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loop.ai ROI Calculator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom slider styles */
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e2e8f0;
            outline: none;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .slider:hover {
            opacity: 1;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .progress-bar {
            background: linear-gradient(to right, #10b981 0%, #10b981 var(--progress, 0%), #e2e8f0 var(--progress, 0%), #e2e8f0 100%);
        }
    </style>
</head>
<body>
    <div id="roi-calculator"></div>

    <script type="text/babel">
        const { useState } = React;
        const { createElement: h } = React;

        // Icon components using SVG
        const TrendingUpIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );

        const TargetIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const ClockIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );

        const DollarSignIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
        );

        const CalendarIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const ArrowRightIcon = ({ className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
        );

        // Utility function for class names
        const cn = (...classes) => classes.filter(Boolean).join(' ');

        // Format currency function
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        };

        // Card component
        const Card = ({ children, className = "", ...props }) => (
            <div 
                className={cn("rounded-lg border bg-white shadow-sm", className)} 
                {...props}
            >
                {children}
            </div>
        );

        // Button component
        const Button = ({ children, className = "", size = "default", ...props }) => {
            const sizeClasses = {
                default: "h-10 px-4 py-2",
                lg: "h-11 px-8 py-3"
            };
            
            return (
                <button 
                    className={cn(
                        "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",
                        "bg-blue-600 text-white hover:bg-blue-700",
                        sizeClasses[size],
                        className
                    )}
                    {...props}
                >
                    {children}
                </button>
            );
        };

        // Input component
        const Input = ({ className = "", ...props }) => (
            <input 
                className={cn(
                    "flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
                    className
                )}
                {...props}
            />
        );

        // Label component
        const Label = ({ children, className = "", ...props }) => (
            <label 
                className={cn("text-sm font-medium leading-none", className)}
                {...props}
            >
                {children}
            </label>
        );

        // Slider component
        const Slider = ({ value, onChange, min, max, step, className = "" }) => (
            <input
                type="range"
                min={min}
                max={max}
                step={step}
                value={value}
                onChange={(e) => onChange(parseFloat(e.target.value))}
                className={cn("slider", className)}
            />
        );

        // Select component
        const Select = ({ value, onChange, children, className = "" }) => (
            <select
                value={value}
                onChange={(e) => onChange(e.target.value)}
                className={cn(
                    "flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",
                    className
                )}
            >
                {children}
            </select>
        );

        // Progress component
        const Progress = ({ value, className = "" }) => (
            <div 
                className={cn("progress-bar h-3 w-full rounded-full", className)}
                style={{"--progress": `${value}%`}}
            ></div>
        );

        // Results Display Component
        const ResultsDisplay = ({ calculations }) => (
            <div className="space-y-6">
                <h3 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                    <TrendingUpIcon className="text-green-600" size={24} />
                    Your ROI Projections
                </h3>

                {/* Current vs Improved Revenue */}
                <Card className="p-6 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200">
                    <div className="flex items-center gap-2 mb-4">
                        <TargetIcon className="text-blue-600" size={20} />
                        <h4 className="text-lg font-semibold text-gray-800">Monthly Revenue</h4>
                    </div>
                    <div className="space-y-4">
                        <div className="flex justify-between items-center">
                            <span className="text-gray-600">Current</span>
                            <span className="text-xl font-bold text-gray-800">
                                {formatCurrency(calculations.currentMonthlyRevenue)}
                            </span>
                        </div>
                        <div className="flex justify-between items-center">
                            <span className="text-gray-600">With AI Automation</span>
                            <span className="text-xl font-bold text-green-600">
                                {formatCurrency(calculations.improvedMonthlyRevenue)}
                            </span>
                        </div>
                        <div className="pt-2 border-t">
                            <div className="flex justify-between items-center">
                                <span className="font-semibold text-gray-700">Revenue Increase</span>
                                <span className="text-xl font-bold text-green-600">
                                    +{formatCurrency(calculations.revenueIncrease)}
                                </span>
                            </div>
                        </div>
                    </div>
                </Card>

                {/* Conversion Rate Improvement */}
                <Card className="p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200">
                    <div className="flex items-center gap-2 mb-4">
                        <TrendingUpIcon className="text-green-600" size={20} />
                        <h4 className="text-lg font-semibold text-gray-800">Conversion Rate</h4>
                    </div>
                    <div className="space-y-3">
                        <div className="flex justify-between">
                            <span className="text-gray-600">Current: {calculations.currentConversionRate}%</span>
                            <span className="text-gray-600">{calculations.currentMonthlyDeals} deals/month</span>
                        </div>
                        <Progress value={(calculations.improvedConversionRate / 15) * 100} className="h-3" />
                        <div className="flex justify-between">
                            <span className="text-green-600 font-semibold">Improved: {calculations.improvedConversionRate.toFixed(1)}%</span>
                            <span className="text-green-600 font-semibold">{calculations.improvedMonthlyDeals} deals/month</span>
                        </div>
                    </div>
                </Card>

                {/* Time & Cost Savings */}
                <Card className="p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200">
                    <div className="flex items-center gap-2 mb-4">
                        <ClockIcon className="text-purple-600" size={20} />
                        <h4 className="text-lg font-semibold text-gray-800">Time & Cost Savings</h4>
                    </div>
                    <div className="space-y-3">
                        <div className="flex justify-between items-center">
                            <span className="text-gray-600">Hours Saved/Month</span>
                            <span className="text-lg font-bold text-purple-600">
                                {calculations.monthlyTimeSavings} hours
                            </span>
                        </div>
                        <div className="flex justify-between items-center">
                            <span className="text-gray-600">Cost Savings/Month</span>
                            <span className="text-lg font-bold text-purple-600">
                                {formatCurrency(calculations.monthlyCostSavings)}
                            </span>
                        </div>
                    </div>
                </Card>

                {/* Total Monthly ROI */}
                <Card className="p-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200">
                    <div className="flex items-center gap-2 mb-4">
                        <DollarSignIcon className="text-orange-600" size={20} />
                        <h4 className="text-lg font-semibold text-gray-800">Total Monthly Impact</h4>
                    </div>
                    <div className="text-center">
                        <div className="text-3xl font-bold text-orange-600 mb-2">
                            {formatCurrency(calculations.totalMonthlySavings)}
                        </div>
                        <p className="text-gray-600">Combined monthly benefit</p>
                    </div>
                </Card>

                {/* Annual Projections */}
                <Card className="p-8 bg-gradient-to-r from-green-600 to-emerald-600 text-white border-0">
                    <div className="text-center space-y-4">
                        <CalendarIcon className="h-12 w-12 mx-auto opacity-90" size={48} />
                        <h4 className="text-2xl font-bold">Annual Projected Savings</h4>
                        <div className="text-5xl font-bold">
                            {formatCurrency(calculations.annualSavings)}
                        </div>
                        <div className="flex justify-center items-center gap-4 text-lg opacity-90">
                            <span>Payback Period: {calculations.paybackPeriod} months</span>
                        </div>
                    </div>
                </Card>
            </div>
        );

        // Main ROI Calculator Component
        const ROICalculator = () => {
            const [monthlyLeads, setMonthlyLeads] = useState(500);
            const [conversionRate, setConversionRate] = useState(3);
            const [averageDealValue, setAverageDealValue] = useState('5000');
            const [weeklyHours, setWeeklyHours] = useState(20);
            const [hourlyRate, setHourlyRate] = useState('50');
            const [responseTime, setResponseTime] = useState('24 hours');

            const calculations = {
                currentMonthlyDeals: Math.round((monthlyLeads * conversionRate) / 100),
                currentMonthlyRevenue: Math.round(((monthlyLeads * conversionRate) / 100) * parseFloat(averageDealValue || '0')),
                currentConversionRate: conversionRate,
                
                // AI automation typically improves conversion by 20-40% due to faster response times and consistent follow-up
                improvedConversionRate: Math.min(conversionRate * 1.3, 15), // 30% improvement, capped at 15%
                improvedMonthlyDeals: Math.round((monthlyLeads * Math.min(conversionRate * 1.3, 15)) / 100),
                improvedMonthlyRevenue: Math.round(((monthlyLeads * Math.min(conversionRate * 1.3, 15)) / 100) * parseFloat(averageDealValue || '0')),
                
                monthlyTimeSavings: weeklyHours * 4,
                monthlyCostSavings: weeklyHours * 4 * parseFloat(hourlyRate || '0'),
                
                get revenueIncrease() {
                    return this.improvedMonthlyRevenue - this.currentMonthlyRevenue;
                },
                
                get totalMonthlySavings() {
                    return this.revenueIncrease + this.monthlyCostSavings;
                },
                
                get annualSavings() {
                    return this.totalMonthlySavings * 12;
                },
                
                // Assuming AI automation cost is around $2000-5000/month
                get paybackPeriod() {
                    const monthlyCost = 3000; // Average automation cost
                    return this.totalMonthlySavings > 0 ? (monthlyCost / this.totalMonthlySavings).toFixed(1) : 'N/A';
                }
            };

            return (
                <div className="max-w-6xl mx-auto space-y-8 p-4">
                    <Card className="p-8 bg-white shadow-2xl border-0">
                        <div className="grid lg:grid-cols-2 gap-8">
                            {/* Input Section */}
                            <div className="space-y-8">
                                <h3 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                    <TargetIcon className="text-purple-600" size={24} />
                                    Business Metrics
                                </h3>
                                
                                {/* Monthly Lead Volume */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">
                                        Monthly Lead Volume: {monthlyLeads.toLocaleString()} leads
                                    </Label>
                                    <Slider
                                        value={monthlyLeads}
                                        onChange={setMonthlyLeads}
                                        max={5000}
                                        min={50}
                                        step={50}
                                        className="w-full"
                                    />
                                    <div className="flex justify-between text-sm text-gray-500">
                                        <span>50</span>
                                        <span>5,000</span>
                                    </div>
                                </div>

                                {/* Conversion Rate */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">
                                        Current Conversion Rate: {conversionRate}%
                                    </Label>
                                    <Slider
                                        value={conversionRate}
                                        onChange={setConversionRate}
                                        max={15}
                                        min={1}
                                        step={0.5}
                                        className="w-full"
                                    />
                                    <div className="flex justify-between text-sm text-gray-500">
                                        <span>1%</span>
                                        <span>15%</span>
                                    </div>
                                </div>

                                {/* Average Deal Value */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">Average Deal Value</Label>
                                    <div className="relative">
                                        <DollarSignIcon className="absolute left-3 top-3 h-4 w-4 text-gray-400" size={16} />
                                        <Input
                                            type="number"
                                            value={averageDealValue}
                                            onChange={(e) => setAverageDealValue(e.target.value)}
                                            className="pl-10 text-lg"
                                            placeholder="5000"
                                            min="500"
                                            max="50000"
                                        />
                                    </div>
                                </div>

                                {/* Weekly Hours */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">
                                        Hours on Manual Tasks/Week: {weeklyHours} hours
                                    </Label>
                                    <Slider
                                        value={weeklyHours}
                                        onChange={setWeeklyHours}
                                        max={80}
                                        min={5}
                                        step={5}
                                        className="w-full"
                                    />
                                    <div className="flex justify-between text-sm text-gray-500">
                                        <span>5 hrs</span>
                                        <span>80 hrs</span>
                                    </div>
                                </div>

                                {/* Hourly Rate */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">Staff Hourly Rate</Label>
                                    <div className="relative">
                                        <DollarSignIcon className="absolute left-3 top-3 h-4 w-4 text-gray-400" size={16} />
                                        <Input
                                            type="number"
                                            value={hourlyRate}
                                            onChange={(e) => setHourlyRate(e.target.value)}
                                            className="pl-10 text-lg"
                                            placeholder="50"
                                            min="15"
                                            max="150"
                                        />
                                    </div>
                                </div>

                                {/* Response Time */}
                                <div className="space-y-3">
                                    <Label className="text-lg font-semibold text-gray-700">Current Follow-up Response Time</Label>
                                    <Select value={responseTime} onChange={setResponseTime}>
                                        <option value="immediate">Immediate</option>
                                        <option value="1 hour">1 hour</option>
                                        <option value="4 hours">4 hours</option>
                                        <option value="24 hours">24 hours</option>
                                        <option value="48+ hours">48+ hours</option>
                                    </Select>
                                </div>
                            </div>

                            {/* Results Section */}
                            <ResultsDisplay calculations={calculations} />
                        </div>

                       
                    </Card>
                </div>
            );
        };

        // Render the calculator
        ReactDOM.render(<ROICalculator />, document.getElementById('roi-calculator'));
    </script>
</body>
</html>
